<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Datadog Fundamentals – Interactive Quiz</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f7f9fc;
      margin: 0;
      padding: 20px;
    }
    .container {
      max-width: 900px;
      margin: auto;
      background: #fff;
      padding: 24px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    h1 {
      margin-top: 0;
    }
    .question {
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 1px solid #e5e7eb;
    }
    .options label {
      display: block;
      margin: 6px 0;
      cursor: pointer;
    }
    .correct {
      color: #15803d;
      font-weight: bold;
    }
    .incorrect {
      color: #b91c1c;
      font-weight: bold;
    }
    button {
      background: #632ca6;
      color: #fff;
      border: none;
      padding: 10px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
    }
    button:hover {
      opacity: 0.9;
    }
    .score {
      margin-top: 20px;
      font-size: 18px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Datadog Fundamentals – Practice Exam</h1>
    <p><strong>Free & open</strong> Datadog Fundamentals practice exam. This page is export-ready and can be hosted anywhere (GitHub Pages, Netlify, S3, etc.). No tracking, no backend.</p>

    <div id="quiz"></div>

    <div style="margin:16px 0;">
      <progress id="progress" value="0" max="75" style="width:100%;"></progress>
      <div id="progressText">0 / 75 answered</div>
    </div>

    <button onclick="submitQuiz()">Submit Quiz</button>
    <div id="score" class="score"></div>
  </div>

  <script>
    /* =========================
       QUIZ DATA (10 SETS)
       ========================= */
    const quizSets = [
      {
        name: "Set 1 – Agent & Basics",
        questions: [
          {
            q: "What is the primary purpose of the Datadog Agent?",
            options: [
              "Store metrics long-term",
              "Collect and forward telemetry data",
              "Create dashboards",
              "Trigger alerts"
            ],
            answer: [1],
            ref: "https://docs.datadoghq.com/agent/"
          },
          {
            q: "Which key is required for the Datadog Agent to send data?",
            options: ["Application key", "SSH key", "API key", "OAuth token"],
            answer: [2],
            ref: "https://docs.datadoghq.com/account_management/api-app-keys/"
          }
        ]
      },
      {
        name: "Set 2 – Metrics & Tags",
        questions: [
          {
            q: "What are tags primarily used for in Datadog?",
            options: [
              "Encrypting data",
              "Filtering and grouping data",
              "Reducing ingestion cost",
              "Compressing logs"
            ],
            answer: [1],
            ref: "https://docs.datadoghq.com/getting_started/tagging/"
          }
        ]
      }
    ];

    let currentSetIndex = Math.floor(Math.random() * quizSets.length);
    let questions = quizSets[currentSetIndex].questions;

    const quizDiv = document.getElementById("quiz");
    const scoreDiv = document.getElementById("score");

    function renderQuiz() {
      quizDiv.innerHTML = `<h2>${quizSets[currentSetIndex].name}</h2>`;

      questions.forEach((item, index) => {
        const qDiv = document.createElement("div");
        qDiv.className = "question";

        qDiv.innerHTML = `<p><strong>Q${index + 1}.</strong> ${item.q}</p>`;

        const optionsDiv = document.createElement("div");
        optionsDiv.className = "options";

        const multiple = item.answer.length > 1;

        item.options.forEach((opt, i) => {
          optionsDiv.innerHTML += `
            <label>
              <input type="${multiple ? 'checkbox' : 'radio'}" name="q${index}" value="${i}" /> ${opt}
            </label>
          `;
        });

        qDiv.appendChild(optionsDiv);
        quizDiv.appendChild(qDiv);
      });
    }

    function submitQuiz() {
      let score = 0;

      questions.forEach((item, index) => {
        const inputs = document.querySelectorAll(`input[name=\"q${index}\"]:checked`);
        const selected = Array.from(inputs).map(i => parseInt(i.value));
        const qDiv = quizDiv.children[index + 1];

        const feedback = document.createElement('div');

        const correct = JSON.stringify(selected.sort()) === JSON.stringify(item.answer.sort());

        if (correct) {
          score++;
          feedback.innerHTML = `✔ Correct — <a href="${item.ref}" target="_blank">Reference</a>`;
          feedback.className = 'correct';
        } else {
          const answersText = item.answer.map(i => item.options[i]).join(', ');
          feedback.innerHTML = `✖ Incorrect — Correct answer: <strong>${answersText}</strong><br/><a href="${item.ref}" target="_blank">Learn more</a>`;
          feedback.className = 'incorrect';
        }

        qDiv.appendChild(feedback);
      });

      scoreDiv.textContent = `Score: ${score} / ${questions.length}`;
    }

    function loadNewSet() {
      currentSetIndex = Math.floor(Math.random() * quizSets.length);
      questions = quizSets[currentSetIndex].questions;
      scoreDiv.textContent = "";
      renderQuiz();
    }

    renderQuiz();
  </script>
</body>
</html>
